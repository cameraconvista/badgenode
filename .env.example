# BadgeNode - Environment Variables Template
# Copia questo file in .env.local per sviluppo locale

# ===========================================
# SUPABASE CONFIGURATION (REQUIRED)
# ===========================================

# Client-side Supabase (con prefisso VITE_ per Vite)
VITE_SUPABASE_URL=https://<your-project>.supabase.co
VITE_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# Server-side Supabase (SENZA prefisso VITE_)
# ⚠️  CRITICAL: SERVICE_ROLE_KEY deve rimanere server-only
SUPABASE_URL=https://<your-project>.supabase.co
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# ===========================================
# APPLICATION CONFIGURATION
# ===========================================

# Server port (default: 3001)
PORT=3001

# Read-Only Mode (1=enabled, 0=disabled)
# Quando attivo, blocca tutte le operazioni di scrittura
READ_ONLY_MODE=0

# ===========================================
# DEVELOPMENT CONFIGURATION
# ===========================================

# Node environment (development/production)
NODE_ENV=development

# Enable debug logging (1=enabled, 0=disabled)
DEBUG_ENABLED=0

# ===========================================
# OPTIONAL CONFIGURATION
# ===========================================

# Database URL (se diverso da Supabase)
# DATABASE_URL=postgresql://user:pass@localhost:5432/badgenode

# Session secret per autenticazione admin
# SESSION_SECRET=your-random-secret-key

# Backup retention (numero di backup da mantenere)
BACKUP_RETENTION=3

# File length guard strict mode (1=enabled, 0=disabled)
STRICT_220=true

# ===========================================
# PRODUCTION NOTES
# ===========================================

# Per produzione su Render:
# 1. Configura le variabili Supabase nel dashboard Render
# 2. Imposta READ_ONLY_MODE=0 solo dopo verifica completa
# 3. NODE_ENV=production viene impostato automaticamente
# 4. PORT viene fornito da Render automaticamente

# Security checklist:
# ✅ SERVICE_ROLE_KEY mai esposta al client
# ✅ ANON_KEY ha RLS policies attive
# ✅ Nessun segreto committato in git
# ✅ Variabili ambiente validate al boot
